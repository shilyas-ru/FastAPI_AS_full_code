## Применение паттерна DataMapper


## Что сделано

К реализации в задании №7 "Задание №7: Ручка на получение отеля" добавлено:

Создана схема Pydantic (см. файл "[src/schemas/hotels.py](src/schemas/hotels.py)"), которая используется для преобразования полученных объектов SQLAlchemy к "понятному" виду.


Изменения в репозитарии в базовом классе BaseRepositoryMyCode:
- Добавлен метод:
    - edit: метод класса. Редактирует один объект в базе, когда объект для обновления 
        получаем по первичному ключу (метод session.get).
        Обновление реализовано через обновление атрибутов 
        объекта: setattr(updated_object, key, value). 
        Возвращает Возвращает None или объект, преобразованный к схеме Pydantic.
    - get_one_or_none: метод класса. Возвращает одну строку или None. Если получено более одной строки, то поднимается исключение MultipleResultsFound. Использует штатный метод scalars().one_or_none().
- При возврате значений сделано преобразование объекта SQLAlchemy в Pydantic.

Изменения в репозитарий для отелей в классе HotelsRepositoryMyCode, дочернем к родительскому классу BaseRepositoryMyCode:
- Изменены методы:
  - get_one_or_none: метод класса. переименован в метод get_one_or_none_my_err.


Итоговые методы в репозитарии в базовом классе BaseRepositoryMyCode:

    - add. Метод класса. Добавляет один объект в базу, используя метод insert.
    - delete. Метод класса. Удаляет один объект в базе, используя метод delete.
    - edit. Метод класса. Редактирует один объект в базе, используя метод update.
    - edit_id. Метод класса. Выбирает по идентификатору (поле self.model.id) один
        объект в базе, используя метод get.
        Редактирует один объект в базе, обновление реализовано через обновление
        атрибутов объекта: setattr(updated_object, key, value).
    - get_id. Метод класса. Выбирает по идентификатору (поле self.model.id) один
        объект в базе, используя метод get.
    - get_one_or_none. Метод класса. Выбирает по идентификатору (поле self.model.id)
        объект в базе.
    - get_rows. Метод класса. Выбирает заданное количество строк с заданным смещением.


Итоговые методы в репозитарии в базовом классе HotelsRepositoryMyCode:

    - delete. Метод класса. Удаляет объект или объекты в базе, используя метод
        delete.
    - edit. Метод класса. Редактирует один объект в базе, используя метод
        update. Служит обёрткой для родительского метода edit.
    - get_all. Метод класса. Выбирает все строки. Использует родительский метод get_rows.
        Возвращает пустой список: [] или список из выбранных строк, преобразованных к схеме Pydantic.
    - get_id. Метод класса. Выбирает по идентификатору (поле self.model.id) один
        объект в базе, используя метод get.
    - get_limit. Метод класса. Выбирает заданное количество строк с
        заданным смещением. Использует родительский метод get_rows.
    - get_one_or_none_my_err. Метод класса. Возвращает одну строку или None. Если получено более
        одной строки, то поднимается исключение MultipleResultsFound.
        Использует родительский метод get_rows.


## Итог

- Структура проекта (см. файл "[project_structure.md](project_structure.md)").

- Краткая справка по командам alembic - см. файл "[src/models/ReadMe.md](src/models/ReadMe.md)".

- Созданные таблицы в базе данных см. картинку "[tables_in_database.png](tables_in_database.png)".

- Используемые сокращения и именования переменных/классов/прочего - см. файл [variables_abbreviations_and_naming.md](variables_abbreviations_and_naming.md)